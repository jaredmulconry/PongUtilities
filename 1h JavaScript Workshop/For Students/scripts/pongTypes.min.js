"use strict";function roundToInt(i){return~~(.5+i)}var Paddle=function(i,t,o,e){this.position=i,this.color=t,this.direction=0,this.upControl=o,this.downControl=e};Paddle.prototype.handleCollision=function(i){this.position.set(i.position)},Paddle.prototype.update=function(i,t){this.direction=0,t.getKey(this.upControl)&&(this.direction-=1),t.getKey(this.downControl)&&(this.direction+=1),this.position.y+=this.direction*Paddle.speed*i},Paddle.prototype.draw=function(i){i.fillStyle=this.color,i.fillRect(roundToInt(this.position.x-Paddle.halfSize.x),roundToInt(this.position.y-Paddle.halfSize.y),Paddle.size.x,Paddle.size.y)},Paddle.size=new Vector(16,64),Paddle.halfSize=Paddle.size.scale(.5),Paddle.speed=128;var Ball=function(i,t){for(this.position=i,this.color=t,this.currentSpeed=this.startSpeed,this.direction=new Vector(Math.random(),Math.random()).subtract(new Vector(.5,.5)).scale(2);this.direction.equals(Vector.zero);)this.direction.x=2*(Math.random()-.5),this.direction.y=2*(Math.random()-.5);this.direction.normalize()};Ball.startSpeed=64,Ball.size=new Vector(16,16),Ball.halfSize=Ball.size.scale(.5),Ball.prototype.handleCollision=function(i){this.position=i.position,0!=i.direction.x?this.direction.x*=-1:0!=i.direction.y&&(this.direction.y*=-1)},Ball.prototype.update=function(i){this.position.addTo(this.direction.scale(this.currentSpeed).scale(i))},Ball.prototype.draw=function(i){i.fillStyle=this.color,i.fillRect(roundToInt(this.position.x-Ball.halfSize.x),roundToInt(this.position.y-Ball.halfSize.y),Ball.size.x,Ball.size.y)};